{"version":3,"file":"index-COETuq5G.js","sources":["../../../app/administration/src/module/swag-paypal-method/extension/sw-settings-payment/sw-settings-payment-detail/sw-settings-payment-detail.html.twig","../../../app/administration/src/module/swag-paypal-method/extension/sw-settings-payment/sw-settings-payment-detail/index.ts"],"sourcesContent":["{% block sw_settings_payment_detail_content_field_active %}\n<mt-switch\n    v-if=\"!acl.can('payment.editor') || paymentMethod && needsOnboarding\"\n    v-model=\"paymentMethod.active\"\n    v-tooltip.left=\"{ message: $t('swag-paypal-method.paymentActivateSwitchTooltip') }\"\n    class=\"sw-settings-payment-detail__field-active\"\n    :disabled=\"!paymentMethod.active\"\n    :label=\"$t('sw-settings-payment.detail.labelActive')\"\n/>\n\n<template v-else>\n    {% parent %}\n</template>\n{% endblock %}\n","import type * as PayPal from 'SwagPayPal/types';\nimport template from './sw-settings-payment-detail.html.twig';\nimport './sw-settings-payment-detail.scss';\n\nexport default Shopware.Component.wrapComponentConfig({\n    template,\n\n    inject: [\n        'SwagPayPalSettingsService',\n    ],\n\n    data(): {\n        capabilities: PayPal.Setting<'merchant_information'>['capabilities'];\n    } {\n        return {\n            capabilities: {},\n        };\n    },\n\n    computed: {\n        needsOnboarding(): boolean {\n            // no capabilities, no paypal payment method\n            if (!this.capabilities) {\n                return false;\n            }\n\n            // @ts-expect-error - paymentMethod is from extended component\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            return this.capabilities[this.paymentMethod.id] === 'inactive';\n        },\n    },\n\n    watch: {\n        paymentMethod(paymentMethod) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\n            if (paymentMethod?.technicalName && paymentMethod.technicalName.startsWith('swag_paypal_')) {\n                this.fetchMerchantCapabilities();\n            }\n        },\n    },\n\n    methods: {\n        async fetchMerchantCapabilities() {\n            const merchantInformation = await this.SwagPayPalSettingsService.getMerchantInformation();\n            this.capabilities = merchantInformation.capabilities ?? {};\n        },\n    },\n});\n\n"],"names":["template","index","paymentMethod","merchantInformation"],"mappings":"AAAA,MAAAA,EAAe,wcCIfC,EAAe,SAAS,UAAU,oBAAoB,CAClD,SAAAD,EAEA,OAAQ,CACJ,2BAAA,EAGJ,MAEE,CACE,MAAO,CACH,aAAc,CAAA,CAAC,CACnB,EAGJ,SAAU,CACN,iBAA2B,CAEvB,OAAK,KAAK,aAMH,KAAK,aAAa,KAAK,cAAc,EAAE,IAAM,WALzC,EAKyC,CACxD,EAGJ,MAAO,CACH,cAAcE,EAAe,CAErBA,GAAA,MAAAA,EAAe,eAAiBA,EAAc,cAAc,WAAW,cAAc,GACrF,KAAK,0BAAA,CACT,CACJ,EAGJ,QAAS,CACL,MAAM,2BAA4B,CAC9B,MAAMC,EAAsB,MAAM,KAAK,0BAA0B,uBAAA,EACjE,KAAK,aAAeA,EAAoB,cAAgB,CAAA,CAAC,CAC7D,CAER,CAAC"}