var p=Object.defineProperty;var m=(e,o,r)=>o in e?p(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r;var n=(e,o,r)=>m(e,typeof o!="symbol"?o+"":o,r);import{a as l}from"./shopware-BmZxu3Hp.js";import{A as h}from"./api.service-BkZ2RaM_.js";import"./util.service-B40o3gb8.js";import"./channel-DBl56l-E.js";import"./_baseUniq-D_koLWVp.js";import"./_baseIteratee-B7Qgl-CD.js";import"./camelCase-zHdSrgfE.js";import"./string.utils-Xy_3gZLv.js";import"./file-reader.utils-X6d2K5Hs.js";import"./extension-api-data.service-lAkN6xkJ.js";import"./sanitizer.helper-BI7HQCuE.js";import"./purify.es-Du9adIxO.js";import"./promotion.helper-puEYtmKd.js";import"./administration-1banVOF8.js";import"./order.types-BvKP5qzO.js";class $ extends h{constructor(r,s,a="_admin"){super(r,s,a);n(this,"searchAbortController",null);this.name="searchService"}elastic(r,s,a,t={}){const c=this.getBasicHeaders(t);return this.searchAbortController&&!this.searchAbortController.signal.aborted&&this.searchAbortController.abort(),this.searchAbortController=new AbortController,this.httpClient.post(`${this.getApiBasePath()}/es-search`,{term:r,limit:a,entities:s},{headers:c,signal:this.searchAbortController.signal}).then(i=>h.handleResponse(i)).catch(i=>{if(i instanceof l.CanceledError)return{};throw i})}searchQuery(r={},s={}){const a=this.getBasicHeaders(s);return Object.keys(r).forEach(t=>{typeof r[t].parse=="function"&&(r[t]=r[t].parse())}),this.searchAbortController&&!this.searchAbortController.signal.aborted&&this.searchAbortController.abort(),this.searchAbortController=new AbortController,this.httpClient.post(`${this.getApiBasePath()}/search`,r,{headers:a,signal:this.searchAbortController.signal}).then(t=>h.handleResponse(t)).catch(t=>{if(t instanceof l.CanceledError)return{};throw t})}}export{$ as default};
