const i=`{% block sw_promotion_v2_settings_trigger %} <div class="sw-promotion-v2-settings-trigger-settings"> {% block sw_promotion_v2_settings_trigger_description %} <sw-promotion-v2-wizard-description class="sw-promotion-v2-settings-trigger-settings__description" > {{ $tc('sw-promotion-v2.detail.discounts.wizard.shipping-discount.description') }} </sw-promotion-v2-wizard-description> {% endblock %} {% block sw_promotion_v2_settings_trigger_radio_switch %} <mt-switch v-model="useTrigger" class="sw-promotion-v2-settings-trigger-settings__use-trigger" :label="$tc('sw-promotion-v2.detail.discounts.settings.trigger.labelUseTrigger')" /> {% endblock %} {% block sw_promotion_v2_settings_trigger_container %} <sw-container v-if="useTrigger"> {% block sw_promotion_v2_settings_trigger_select_trigger_type %} <mt-select v-model="triggerType" class="sw-promotion-v2-settings-trigger-settings__trigger-type" :label="$tc('sw-promotion-v2.detail.discounts.settings.trigger.labelNumberOfTriggers')" :disabled="!acl.can('promotion.editor')" :options="triggerOptions" /> {% endblock %} {% block sw_promotion_v2_settings_trigger_rule_selection_selection %} <sw-promotion-v2-rule-select v-model:collection="discount.discountRules" local-mode class="sw-promotion-v2-settings-trigger-settings__rule-selection" :criteria="ruleCriteria" :rule-scope="['cart']" :label="$tc('sw-promotion-v2.detail.discounts.settings.ruleSelection.labelSelection')" :placeholder="$tc('sw-promotion-v2.detail.discounts.settings.ruleSelection.placeholderSelection')" :disabled="!acl.can('promotion.editor')" /> {% endblock %} </sw-container> {% endblock %} </div> {% endblock %}`,{Criteria:e}=Shopware.Data,s={template:i,inject:["acl"],props:{discount:{type:Object,required:!0}},data(){return{useTrigger:this.discount.discountRules.length>0,triggerType:"single"}},computed:{ruleCriteria(){return new e(1,25).addSorting(e.sort("name","ASC",!1))},triggerOptions(){return this.getTriggerSelection().map(t=>({id:t.value,value:t.value,label:t.display}))}},watch:{"discount.discountRules"(t){this.discount.considerAdvancedRules=t.length>0}},methods:{getTriggerSelection(){const t="sw-promotion-v2.detail.discounts.settings.trigger.triggerType";return[{value:"single",display:this.$tc(`${t}.displaySingleTrigger`),disabled:!1},{value:"multi",display:this.$tc(`${t}.displayMultiTrigger`),disabled:!0}]}}};export{s as default};
